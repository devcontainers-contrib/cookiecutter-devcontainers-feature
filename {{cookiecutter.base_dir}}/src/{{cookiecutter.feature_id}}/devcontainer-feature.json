

{
    "name": "{{cookiecutter.feature_name}}",
    "id": "{{cookiecutter.feature_id}}",
    "version": "{{cookiecutter.version}}",
    "description": "{{cookiecutter.description}}",
    "documentationURL": "{{cookiecutter.gitrepo}}/tree/main/src/{{cookiecutter.feature_id}}",
    "installAfter": [
        "ghcr.io/devcontainers/features/python:latest"
    ],
    "options": {
{% for pipx_package in cookiecutter.content.pipx %}
        "{% if pipx_package.version_alias is defined %}{{pipx_package.version_alias}}{% else %}{{ pipx_package.display_name | lower | replace("_", "") | replace("-", "")}}Version{% endif %}" :
        {
            "type": "string",
            "proposals": [
                "latest"
            ],
            "default": "latest",
            "description": "Select the {{pipx_package.display_name}} version you would like to install"
        },
        
{% for pipx_injection in pipx_package.injections %}
{%- if pipx_injection.optional == "True" %}   
    "include{{ pipx_injection.display_name | replace("_", " ") | replace("-", " ") | to_camel}}": {
            "type": "boolean",
            "default": true,
            "description": "Include {{pipx_injection.display_name}}"
        },
        {{ "," if not loop.last }}
{%- endif %}

        "{{ pipx_injection.display_name | replace("_", " ") | replace("-", " ") | to_lower_camel}}Version" :
        {
            "type": "string",
            "proposals": [
                "latest"
            ],
            "default": "latest",
            "description": "Select the {{pipx_injection.display_name}} version you would like to install"
        },
        {{ "," if not loop.last }}
{% endfor %}
{% endfor %}
    }
}
